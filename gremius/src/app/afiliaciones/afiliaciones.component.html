<div class="afiliaciones-container">

  <!-- Imagen institucional / pre-afiliación -->
  <div class="afiliaciones-image">
    <img src="assets/images/preafiliacion_online.webp" alt="Pre-afiliación Online al gremio" />
  </div>

  <h2>Pre-afiliación Online</h2>
  <p>
    Completá con tus datos el formulario de pre-afiliación para iniciar tu incorporación al gremio.
    Una vez que finalices la carga, recibirás por correo electrónico la ficha completa.
    Deberás imprimirla, firmarla y enviarla al gremio, o bien acercarte a la sede más cercana para firmarla personalmente.
  </p>

  <!-- alerta de éxito -->
  <div *ngIf="showSuccessAlert" class="alert-success">
    ¡Tu pre-afiliación fue enviada con éxito! 🎉
  </div>

  <!-- elegir destinatario -->
  <div class="destinatarios">
    <h3>Elegí la sede más cercana:</h3>
    <button *ngFor="let sede of destinatarios" (click)="selectDestinatario(sede.email)">
      {{ sede.label }}
    </button>
  </div>

  <!-- formulario -->
  <form *ngIf="destinatario" [attr.action]="formAction" method="POST">
    <input type="hidden" name="_next" [value]="currentUrl + '?success=true'">

    <label>Nombre completo</label>
    <input type="text" name="nombre" [(ngModel)]="afiliacionData.nombre" required />

    <label>Email</label>
    <input type="email" name="email" [(ngModel)]="afiliacionData.email" required />

    <label>DNI</label>
    <input type="text" name="dni" [(ngModel)]="afiliacionData.dni" required />
    
    <label>CUIL</label>
    <input type="text" name="dni" [(ngModel)]="afiliacionData.cuil" required />

    <label>Teléfono</label>
    <input type="tel" name="telefono" [(ngModel)]="afiliacionData.telefono" required />

    <label>Mensaje</label>
    <textarea name="mensaje" [(ngModel)]="afiliacionData.mensaje"></textarea>

    <button type="submit">Enviar pre-afiliación</button>
    <button type="button" (click)="resetForm()">Cancelar</button>
  </form>

</div>
