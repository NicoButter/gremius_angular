<div class="afiliaciones-container">

  <!-- Imagen institucional / pre-afiliaci贸n -->
  <div class="afiliaciones-image">
    <img src="assets/images/preafiliacion_online.webp" alt="Pre-afiliaci贸n Online al gremio" />
  </div>

  <h2>Pre-afiliaci贸n Online</h2>
  <p>
    Complet谩 con tus datos el formulario de pre-afiliaci贸n para iniciar tu incorporaci贸n al gremio.
    Una vez que finalices la carga, recibir谩s por correo electr贸nico la ficha completa.
    Deber谩s imprimirla, firmarla y enviarla al gremio, o bien acercarte a la sede m谩s cercana para firmarla personalmente.
  </p>

  <!-- alerta de 茅xito -->
  <div *ngIf="showSuccessAlert" class="alert-success">
    隆Tu pre-afiliaci贸n fue enviada con 茅xito! 
  </div>

  <!-- elegir destinatario -->
  <div class="destinatarios">
    <h3>Eleg铆 la sede m谩s cercana:</h3>
    <button *ngFor="let sede of destinatarios" (click)="selectDestinatario(sede.email)">
      {{ sede.label }}
    </button>
  </div>

  <!-- formulario -->
  <form *ngIf="destinatario" [attr.action]="formAction" method="POST">
    <input type="hidden" name="_next" [value]="currentUrl + '?success=true'">

    <label>Nombre completo</label>
    <input type="text" name="nombre" [(ngModel)]="afiliacionData.nombre" required />

    <label>Email</label>
    <input type="email" name="email" [(ngModel)]="afiliacionData.email" required />

    <label>DNI</label>
    <input type="text" name="dni" [(ngModel)]="afiliacionData.dni" required />
    
    <label>CUIL</label>
    <input type="text" name="dni" [(ngModel)]="afiliacionData.cuil" required />

    <label>Tel茅fono</label>
    <input type="tel" name="telefono" [(ngModel)]="afiliacionData.telefono" required />

    <label>Mensaje</label>
    <textarea name="mensaje" [(ngModel)]="afiliacionData.mensaje"></textarea>

    <button type="submit">Enviar pre-afiliaci贸n</button>
    <button type="button" (click)="resetForm()">Cancelar</button>
  </form>

</div>
