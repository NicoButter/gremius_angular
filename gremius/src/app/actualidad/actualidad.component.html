<section id="actualidad">
    <h2>Actualidad del Gremio</h2>
    <p>Mantenete al dÃ­a con nuestras actividades y logros recientes</p>

    <!-- Carrusel temporal -->
    <div class="carrusel">
        <div class="carrusel-contenedor">
            <img [src]="imagenesCarrusel[indiceCarrusel]" alt="Entrega de termos" class="carrusel-imagen">
            <div class="carrusel-overlay">
                <div class="carrusel-texto">
                    <h3>Seguimos entregando los presentes por el DÃ­a del/la Trabajador/a Judicial</h3>
                    <p>
                        Queremos reconocer el esfuerzo, la dedicaciÃ³n y el compromiso de cada compaÃ±ero y compaÃ±era judicial de la provincia.
                        Este pequeÃ±o presente es una manera de agradecer todo lo que sostienen cada dÃ­a en sus lugares de trabajo. ğŸ’™ğŸ¤
                    </p>
                    <p>
                        Gracias por ser parte de esta construcciÃ³n colectiva que fortalece a nuestro gremio y a la justicia santacruceÃ±a. ğŸ™Œâš–ï¸
                    </p>
                </div>
            </div>
            <button class="carrusel-btn anterior" (click)="anteriorCarrusel()">â®</button>
            <button class="carrusel-btn siguiente" (click)="siguienteCarrusel()">â¯</button>
            <div class="carrusel-indicadores">
                <span *ngFor="let img of imagenesCarrusel; let i = index" 
                      [class.activo]="i === indiceCarrusel"
                      (click)="indiceCarrusel = i"></span>
            </div>
        </div>
    </div>

    <div class="actualidad-grid">
        <!-- Tarjeta 1: Nueva Web -->
        <!-- <article class="actualidad-item app-info" (click)="abrirModal('assets/images/nueva_pagina_web_1.webp', 'Â¡Estrenamos nueva pÃ¡gina web!', 'Te damos la bienvenida a nuestro renovado sitio institucional. AquÃ­ vas a encontrar la historia de nuestro gremio, las Ãºltimas noticias, informaciÃ³n sobre actividades, convenios, comunicados oficiales y mucho mÃ¡s. DiseÃ±amos esta pÃ¡gina para que sea un espacio de encuentro, memoria y comunicaciÃ³n permanente con nuestros afiliados y afiliadas.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/nueva_pagina_web_1.webp" alt="Nueva pÃ¡gina web institucional">
            <h3>Â¡Estrenamos nueva pÃ¡gina web!</h3>
            <p>
                Te damos la bienvenida a nuestro renovado sitio institucional.
                AquÃ­ vas a encontrar la historia de nuestro gremio, las Ãºltimas noticias,
                informaciÃ³n sobre actividades, convenios, comunicados oficiales y mucho mÃ¡s.
                DiseÃ±amos esta pÃ¡gina para que sea un espacio de encuentro, memoria y comunicaciÃ³n
                permanente con nuestros afiliados y afiliadas.
            </p>
        </article> -->

        <!-- Tarjeta 4: Jornada de Lucha -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/no_a_la_reforma_instagram_facebook.png', 'AcompaÃ±amos la Jornada de Lucha', 'AcompaÃ±amos junto al Frente Sindical Santa Cruz, la jornada de lucha dispuesta por la federaciÃ³n judicial argentina')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/no_a_la_reforma_instagram_facebook.png" alt="AcompaÃ±amos la Jornada de Lucha">
            <h3>AcompaÃ±amos la Jornada de Lucha</h3>
            <p>
                AcompaÃ±amos junto al Frente Sindical Santa Cruz, la jornada de lucha dispuesta por la FederaciÃ³n Judicial Argentina.
            </p>
        </article>

        <!-- Tarjeta: RepresentaciÃ³n Consejo de la Magistratura -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/novedades_consejo.png', 'RepresentaciÃ³n de trabajadores/as Judicial ante el Consejo de la Magistratura', 'El 3 de noviembre de 2025 se llevÃ³ adelante la elecciÃ³n de representantes del estamento \'Trabajadores/as Judiciales\' ante el Consejo de la Magistratura de Santa Cruz. Nuestros representantes: MarÃ­a JosÃ© Butterfield y Gerardo Valderrama de RÃ­o Gallegos.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/novedades_consejo.png" alt="RepresentaciÃ³n Consejo de la Magistratura" onerror="this.style.display='none';">
            <h3>RepresentaciÃ³n de trabajadores/as Judicial ante el Consejo de la Magistratura</h3>
            <h4>Nuestros representantes</h4>
            <p>
                La representaciÃ³n del estamento "Trabajadores/as Judiciales" estarÃ¡ integrada por:
            </p>
            <ul>
                <li>â€¢ MarÃ­a JosÃ© Butterfield â€“ RÃ­o Gallegos</li>
                <li>â€¢ Gerardo Valderrama â€“ RÃ­o Gallegos</li>
            </ul>
            <p>
                Ambos asumirÃ¡n la tarea de expresar y defender la voz de las y los judiciales ante un Ã³rgano clave para el funcionamiento del Poder Judicial.
            </p>
        </article>

        <!-- Tarjeta: Convenios por Beneficios -->
        <article class="actualidad-item app-info" routerLink="/convenios-beneficios" style="cursor: pointer;">
            <div class="expand-indicator">Click para ver mÃ¡s</div>
            <img src="assets/images/convenios_beneficios.webp" alt="Convenios por Beneficios" onerror="this.style.display='none';">
            <div style="font-size: 4rem; margin: 2rem 0; color: #1a237e;">
                <i class="fa-solid fa-handshake"></i>
            </div>
            <h3>Convenios por Beneficios</h3>
            <p>
                Â¡Descubre todos los descuentos y beneficios exclusivos para afiliados!
                MÃ¡s de 100 comercios adheridos en toda la provincia con descuentos especiales
                todos los miÃ©rcoles.
                <strong>Â¡AprovechÃ¡ tus beneficios!</strong>
            </p>
        </article>

        <!-- Tarjeta 2: App MÃ³vil -->
        <article class="actualidad-item app-info">
            <h3>DescargÃ¡ la App Judiciales de Santa Cruz Cred</h3>
            <p>AccedÃ© a tus credenciales y beneficios desde tu celular. ElegÃ­ tu sistema operativo:</p>

            <!-- Botones -->
            <div class="qr-tabs">
                <button
                [class.active]="plataforma === 'android'"
                (click)="cambiarPlataforma('android')">
                Android
                </button>
                <button
                [class.active]="plataforma === 'ios'"
                (click)="cambiarPlataforma('ios')">
                iOS
                </button>
            </div>

            <!-- QR dinÃ¡mico -->
            <div class="qr-display">
                <ng-container *ngIf="plataforma === 'android'">
                    <img src="assets/images/qr-code-android.webp" alt="QR Android" class="qr-image" (click)="abrirModal('assets/images/qr-code-android.webp', 'Descargar App para Android', 'Escanea este cÃ³digo QR para descargar la aplicaciÃ³n Judiciales de Santa Cruz Cred en tu dispositivo Android.')">
                </ng-container>

                <ng-container *ngIf="plataforma === 'ios'">
                    <img src="assets/images/qr-code-ios.webp" alt="QR iOS" class="qr-image" (click)="abrirModal('assets/images/qr-code-ios.webp', 'Descargar App para iOS', 'Escanea este cÃ³digo QR para descargar la aplicaciÃ³n Judiciales de Santa Cruz Cred en tu dispositivo iOS.')">
                </ng-container>

                <div class="qr-expand-indicator">Click para ampliar</div>
            </div>
        </article>

        <!-- Tarjeta 3: Obra en Puerto Deseado -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/flyer_obra_puerto_deseado.webp', 'Obra en Puerto Deseado: Quincho de 200 mÂ²', 'Avanza la primera etapa del quincho con inversiÃ³n de $110 millones. Incluye materiales estructurales y entrega llave en mano. La segunda etapa incorporarÃ¡ calefacciÃ³n y mobiliario.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/flyer_obra_puerto_deseado.webp" alt="Obra del quincho en Puerto Deseado">
            <h3>Obra en Puerto Deseado: Quincho de 200 mÂ²</h3>
            <p>
                Avanza la primera etapa del quincho con inversiÃ³n de $110 millones.
                Incluye materiales estructurales y entrega llave en mano.
                La segunda etapa incorporarÃ¡ calefacciÃ³n y mobiliario.
            </p>
        </article>

        <!-- Tarjeta 5: Frente Sindical -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/reclamo_frente_sindical.webp', 'Comunicado Frente Sindical de Santa Cruz', 'Desde el Movimiento Obrero nos solidarizamos con la justa lucha de los docentes organizados en la ADoSaC, Sin efecto la citada multa y cesen las acciones de carÃ¡cter antisindical.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/reclamo_frente_sindical.webp" alt="Frente Sindical de Santa Cruz">
            <h3>Comunicado Frente Sindical de Santa Cruz</h3>
            <p>
                Desde el Movimiento Obrero nos solidarizamos con la justa lucha de los docentes organizados en la ADoSaC,
                <strong>Sin efecto la citada multa y cesen las acciones de carÃ¡cter antisindical.</strong>
            </p>
        </article>

        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/federacion_judicial_argentina.webp', 'FEDERACIÃ“N JUDICIAL ARGENTINA', 'La FederaciÃ³n Judicial Argentina (FJA) expresa su rechazo a la iniciativa del Poder Ejecutivo de Santa Cruz de ampliar el Tribunal Superior de Justicia (TSJ) mediante la designaciÃ³n de cuatro nuevas vocalÃ­as.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/federacion_judicial_argentina.webp" alt="FEDERACIÃ“N JUDICIAL ARGENTINA">
            <h3>FEDERACIÃ“N JUDICIAL ARGENTINA</h3>
            <p>
                La FederaciÃ³n Judicial Argentina (FJA) expresa su rechazo a la iniciativa del Poder
                Ejecutivo de Santa Cruz de ampliar el Tribunal Superior de Justicia (TSJ) mediante la
                designaciÃ³n de cuatro nuevas vocalÃ­as.
            </p>
        </article>

        <!-- Nuevos Convenios por Beneficios -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/aca_convenio.png', 'ğŸ•ï¸ BENEFICIO EXCLUSIVO PARA AFILIADOS - Camping ACA â€“ Puerto Madryn', 'Complejo turÃ­stico en entorno natural, familiar y seguro. Parcelas con luz, dormis, dÃºplex totalmente equipados. Parrillas, juegos, sanitarios con agua caliente y proveedurÃ­a. 30% OFF temporada baja, 20% OFF temporada alta. VÃ¡lido para afiliados y acompaÃ±antes en todas las modalidades de alojamiento. Sujeto a disponibilidad.')">
            <div class="expand-indicator">Click para ampliar</div>
            <span class="nuevo-label">Â¡NUEVO!</span>
            <img src="assets/images/aca_convenio.png" alt="Camping ACA â€“ Puerto Madryn">
            <h3>ğŸ•ï¸ Camping ACA â€“ Puerto Madryn</h3>
            <p>
                <strong>BENEFICIO EXCLUSIVO PARA AFILIADOS</strong><br>
                Complejo turÃ­stico en entorno natural, familiar y seguro.<br>
                ğŸ•ï¸ Parcelas con luz | ğŸ›Œ Dormis | ğŸ¡ DÃºplex totalmente equipados<br>
                ğŸ”¥ Parrillas | ğŸ§’ Juegos | ğŸš¿ Sanitarios con agua caliente | ğŸ” ProveedurÃ­a y bar<br>
                <strong>ğŸ‰ DESCUENTOS ESPECIALES</strong><br>
                âœ… 30% OFF â€“ Temporada baja<br>
                âœ… 20% OFF â€“ Temporada alta<br>
                âœ”ï¸ VÃ¡lido para afiliados y acompaÃ±antes<br>
                âœ”ï¸ En todas las modalidades de alojamiento<br>
                âœ”ï¸ Sujeto a disponibilidad
            </p>
        </article>

        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/dazzler_convenio.png', 'Dazzler by Wyndham - Descuentos Especiales', '30% sobre tarifa standard (diciembre a agosto), 25% sobre tarifa standard (septiembre). Cadena hotelera internacional con servicios hoteleros de calidad.')">
            <div class="expand-indicator">Click para ampliar</div>
            <span class="nuevo-label">Â¡NUEVO!</span>
            <img src="assets/images/dazzler_convenio.png" alt="Dazzler by Wyndham">
            <h3>Dazzler by Wyndham</h3>
            <p>
                <strong>DESCUENTO: 30% sobre tarifa standard</strong><br>
                Meses: diciembre a agosto (inclusive)<br><br>
                <strong>DESCUENTO: 25% sobre tarifa standard</strong><br>
                Meses: septiembre<br><br>
                ğŸŒ Cadena hotelera internacional (Wyndham Hotels & Resorts)
            </p>
        </article>

        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/ramada_convenio.png', 'Ramada Residences by Wyndham - Puerto Madryn', 'Departamentos turÃ­sticos totalmente equipados. Complejos: CQ Gales Â· CQ Mitre Â· CQ Parry. Confort, privacidad y servicios hoteleros. 30% OFF temporada baja, 20% OFF temporada alta. Para afiliados y acompaÃ±antes. VÃ¡lido en las tres propiedades. Sujeto a disponibilidad.')">
            <div class="expand-indicator">Click para ampliar</div>
            <span class="nuevo-label">Â¡NUEVO!</span>
            <img src="assets/images/ramada_convenio.png" alt="Ramada Residences by Wyndham">
            <h3>Ramada Residences by Wyndham</h3>
            <p>
                <strong>ğŸ“ Puerto Madryn</strong><br>
                ğŸŒ Cadena hotelera internacional (Wyndham Hotels & Resorts)<br>
                ğŸ¡ Departamentos turÃ­sticos totalmente equipados<br>
                ğŸ“ Complejos: CQ Gales Â· CQ Mitre Â· CQ Parry<br>
                âœ¨ Confort, privacidad y servicios hoteleros<br>
                <strong>ğŸ‰ DESCUENTOS ESPECIALES</strong><br>
                âœ… 30% OFF â€“ Temporada baja<br>
                âœ… 20% OFF â€“ Temporada alta<br>
                âœ”ï¸ Para afiliados y acompaÃ±antes<br>
                âœ”ï¸ VÃ¡lido en las tres propiedades<br>
                âœ”ï¸ Sujeto a disponibilidad
            </p>
        </article>
    </div>

    <!-- Modal para mostrar la imagen ampliada -->
    <div class="modal-overlay" *ngIf="modalActivo" (click)="cerrarModal($event)">
        <div class="modal-contenido" (click)="$event.stopPropagation()">
            <div class="modal-header">
                <h3 class="modal-titulo">{{ tituloModal }}</h3>
                <button class="modal-cerrar" (click)="cerrarModal($event)">Ã—</button>
            </div>
            <div class="modal-body"
                 (wheel)="manejarZoom($event)"
                 (mousedown)="iniciarArrastre($event)"
                 (mousemove)="moverImagen($event)"
                 (mouseup)="finalizarArrastre()"
                 (mouseleave)="finalizarArrastre()">
                <div class="imagen-contenedor" #contenedorRef>
                    <img [src]="imagenModal"
                         [alt]="tituloModal"
                         class="modal-imagen"
                         [style.transform]="'translate(calc(-50% + ' + offsetHorizontal + 'px), calc(-50% + ' + offsetVertical + 'px)) scale(' + escala + ')'"
                         (load)="onImageLoad($event)"
                         [class.arrastrando]="arrastrando">
                </div>
            </div>
            <div class="modal-footer" *ngIf="textoModal">
                <p class="modal-texto">{{ textoModal }}</p>
            </div>
        </div>
    </div>
</section>
