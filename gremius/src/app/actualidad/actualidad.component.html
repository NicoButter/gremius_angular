<section id="actualidad">
    <h2>Actualidad del Gremio</h2>
    <p>Mantenete al d√≠a con nuestras actividades y logros recientes</p>

    <!-- Carrusel temporal -->
    <div class="carrusel">
        <div class="carrusel-contenedor">
            <img [src]="imagenesCarrusel[indiceCarrusel]" alt="Entrega de termos" class="carrusel-imagen">
            <div class="carrusel-overlay">
                <div class="carrusel-texto">
                    <h3>Seguimos entregando los presentes por el D√≠a del/la Trabajador/a Judicial</h3>
                    <p>
                        Queremos reconocer el esfuerzo, la dedicaci√≥n y el compromiso de cada compa√±ero y compa√±era judicial de la provincia.
                        Este peque√±o presente es una manera de agradecer todo lo que sostienen cada d√≠a en sus lugares de trabajo. üíôü§ç
                    </p>
                    <p>
                        Gracias por ser parte de esta construcci√≥n colectiva que fortalece a nuestro gremio y a la justicia santacruce√±a. üôå‚öñÔ∏è
                    </p>
                </div>
            </div>
            <button class="carrusel-btn anterior" (click)="anteriorCarrusel()">‚ùÆ</button>
            <button class="carrusel-btn siguiente" (click)="siguienteCarrusel()">‚ùØ</button>
            <div class="carrusel-indicadores">
                <span *ngFor="let img of imagenesCarrusel; let i = index" 
                      [class.activo]="i === indiceCarrusel"
                      (click)="indiceCarrusel = i"></span>
            </div>
        </div>
    </div>

    <div class="actualidad-grid">
        <!-- Tarjeta 1: Nueva Web -->
        <!-- <article class="actualidad-item app-info" (click)="abrirModal('assets/images/nueva_pagina_web_1.webp', '¬°Estrenamos nueva p√°gina web!', 'Te damos la bienvenida a nuestro renovado sitio institucional. Aqu√≠ vas a encontrar la historia de nuestro gremio, las √∫ltimas noticias, informaci√≥n sobre actividades, convenios, comunicados oficiales y mucho m√°s. Dise√±amos esta p√°gina para que sea un espacio de encuentro, memoria y comunicaci√≥n permanente con nuestros afiliados y afiliadas.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/nueva_pagina_web_1.webp" alt="Nueva p√°gina web institucional">
            <h3>¬°Estrenamos nueva p√°gina web!</h3>
            <p>
                Te damos la bienvenida a nuestro renovado sitio institucional.
                Aqu√≠ vas a encontrar la historia de nuestro gremio, las √∫ltimas noticias,
                informaci√≥n sobre actividades, convenios, comunicados oficiales y mucho m√°s.
                Dise√±amos esta p√°gina para que sea un espacio de encuentro, memoria y comunicaci√≥n
                permanente con nuestros afiliados y afiliadas.
            </p>
        </article> -->

        <!-- Tarjeta 4: Jornada de Lucha -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/no_a_la_reforma_instagram_facebook.png', 'Acompa√±amos la Jornada de Lucha', 'Acompa√±amos junto al Frente Sindical Santa Cruz, la jornada de lucha dispuesta por la federaci√≥n judicial argentina')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/no_a_la_reforma_instagram_facebook.png" alt="Acompa√±amos la Jornada de Lucha">
            <h3>Acompa√±amos la Jornada de Lucha</h3>
            <p>
                Acompa√±amos junto al Frente Sindical Santa Cruz, la jornada de lucha dispuesta por la Federaci√≥n Judicial Argentina.
            </p>
        </article>

        <!-- Tarjeta: Representaci√≥n Consejo de la Magistratura -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/novedades_consejo.png', 'Representaci√≥n de trabajadores/as Judicial ante el Consejo de la Magistratura', 'El 3 de noviembre de 2025 se llev√≥ adelante la elecci√≥n de representantes del estamento \'Trabajadores/as Judiciales\' ante el Consejo de la Magistratura de Santa Cruz. Nuestros representantes: Mar√≠a Jos√© Butterfield y Gerardo Valderrama de R√≠o Gallegos.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/novedades_consejo.png" alt="Representaci√≥n Consejo de la Magistratura" onerror="this.style.display='none';">
            <h3>Representaci√≥n de trabajadores/as Judicial ante el Consejo de la Magistratura</h3>
            <h4>Nuestros representantes</h4>
            <p>
                La representaci√≥n del estamento "Trabajadores/as Judiciales" estar√° integrada por:
            </p>
            <ul>
                <li>‚Ä¢ Mar√≠a Jos√© Butterfield ‚Äì R√≠o Gallegos</li>
                <li>‚Ä¢ Gerardo Valderrama ‚Äì R√≠o Gallegos</li>
            </ul>
            <p>
                Ambos asumir√°n la tarea de expresar y defender la voz de las y los judiciales ante un √≥rgano clave para el funcionamiento del Poder Judicial.
            </p>
        </article>

        <!-- Tarjeta: Convenios por Beneficios -->
        <article class="actualidad-item app-info" routerLink="/convenios-beneficios" style="cursor: pointer;">
            <div class="expand-indicator">Click para ver m√°s</div>
            <img src="assets/images/convenios_beneficios.webp" alt="Convenios por Beneficios" onerror="this.style.display='none';">
            <div style="font-size: 4rem; margin: 2rem 0; color: #1a237e;">
                <i class="fa-solid fa-handshake"></i>
            </div>
            <h3>Convenios por Beneficios</h3>
            <p>
                ¬°Descubre todos los descuentos y beneficios exclusivos para afiliados!
                M√°s de 100 comercios adheridos en toda la provincia con descuentos especiales
                todos los mi√©rcoles.
                <strong>¬°Aprovech√° tus beneficios!</strong>
            </p>
        </article>

        <!-- Tarjeta 2: App M√≥vil -->
        <article class="actualidad-item app-info">
            <h3>Descarg√° la App Judiciales de Santa Cruz Cred</h3>
            <p>Acced√© a tus credenciales y beneficios desde tu celular. Eleg√≠ tu sistema operativo:</p>

            <!-- Botones -->
            <div class="qr-tabs">
                <button
                [class.active]="plataforma === 'android'"
                (click)="cambiarPlataforma('android')">
                Android
                </button>
                <button
                [class.active]="plataforma === 'ios'"
                (click)="cambiarPlataforma('ios')">
                iOS
                </button>
            </div>

            <!-- QR din√°mico -->
            <div class="qr-display">
                <ng-container *ngIf="plataforma === 'android'">
                    <img src="assets/images/qr-code-android.webp" alt="QR Android" class="qr-image" (click)="abrirModal('assets/images/qr-code-android.webp', 'Descargar App para Android', 'Escanea este c√≥digo QR para descargar la aplicaci√≥n Judiciales de Santa Cruz Cred en tu dispositivo Android.')">
                </ng-container>

                <ng-container *ngIf="plataforma === 'ios'">
                    <img src="assets/images/qr-code-ios.webp" alt="QR iOS" class="qr-image" (click)="abrirModal('assets/images/qr-code-ios.webp', 'Descargar App para iOS', 'Escanea este c√≥digo QR para descargar la aplicaci√≥n Judiciales de Santa Cruz Cred en tu dispositivo iOS.')">
                </ng-container>

                <div class="qr-expand-indicator">Click para ampliar</div>
            </div>
        </article>

        <!-- Tarjeta 3: Obra en Puerto Deseado -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/flyer_obra_puerto_deseado.webp', 'Obra en Puerto Deseado: Quincho de 200 m¬≤', 'Avanza la primera etapa del quincho con inversi√≥n de $110 millones. Incluye materiales estructurales y entrega llave en mano. La segunda etapa incorporar√° calefacci√≥n y mobiliario.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/flyer_obra_puerto_deseado.webp" alt="Obra del quincho en Puerto Deseado">
            <h3>Obra en Puerto Deseado: Quincho de 200 m¬≤</h3>
            <p>
                Avanza la primera etapa del quincho con inversi√≥n de $110 millones.
                Incluye materiales estructurales y entrega llave en mano.
                La segunda etapa incorporar√° calefacci√≥n y mobiliario.
            </p>
        </article>

        <!-- Tarjeta 5: Frente Sindical -->
        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/reclamo_frente_sindical.webp', 'Comunicado Frente Sindical de Santa Cruz', 'Desde el Movimiento Obrero nos solidarizamos con la justa lucha de los docentes organizados en la ADoSaC, Sin efecto la citada multa y cesen las acciones de car√°cter antisindical.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/reclamo_frente_sindical.webp" alt="Frente Sindical de Santa Cruz">
            <h3>Comunicado Frente Sindical de Santa Cruz</h3>
            <p>
                Desde el Movimiento Obrero nos solidarizamos con la justa lucha de los docentes organizados en la ADoSaC,
                <strong>Sin efecto la citada multa y cesen las acciones de car√°cter antisindical.</strong>
            </p>
        </article>

        <article class="actualidad-item app-info" (click)="abrirModal('assets/images/federacion_judicial_argentina.webp', 'FEDERACI√ìN JUDICIAL ARGENTINA', 'La Federaci√≥n Judicial Argentina (FJA) expresa su rechazo a la iniciativa del Poder Ejecutivo de Santa Cruz de ampliar el Tribunal Superior de Justicia (TSJ) mediante la designaci√≥n de cuatro nuevas vocal√≠as.')">
            <div class="expand-indicator">Click para ampliar</div>
            <img src="assets/images/federacion_judicial_argentina.webp" alt="FEDERACI√ìN JUDICIAL ARGENTINA">
            <h3>FEDERACI√ìN JUDICIAL ARGENTINA</h3>
            <p>
                La Federaci√≥n Judicial Argentina (FJA) expresa su rechazo a la iniciativa del Poder
                Ejecutivo de Santa Cruz de ampliar el Tribunal Superior de Justicia (TSJ) mediante la
                designaci√≥n de cuatro nuevas vocal√≠as.
            </p>
        </article>
    </div>

    <!-- Modal para mostrar la imagen ampliada -->
    <div class="modal-overlay" *ngIf="modalActivo" (click)="cerrarModal($event)">
        <div class="modal-contenido" (click)="$event.stopPropagation()">
            <div class="modal-header">
                <h3 class="modal-titulo">{{ tituloModal }}</h3>
                <button class="modal-cerrar" (click)="cerrarModal($event)">√ó</button>
            </div>
            <div class="modal-body"
                 (wheel)="manejarZoom($event)"
                 (mousedown)="iniciarArrastre($event)"
                 (mousemove)="moverImagen($event)"
                 (mouseup)="finalizarArrastre()"
                 (mouseleave)="finalizarArrastre()">
                <div class="imagen-contenedor" #contenedorRef>
                    <img [src]="imagenModal"
                         [alt]="tituloModal"
                         class="modal-imagen"
                         [style.transform]="'translate(calc(-50% + ' + offsetHorizontal + 'px), calc(-50% + ' + offsetVertical + 'px)) scale(' + escala + ')'"
                         (load)="onImageLoad($event)"
                         [class.arrastrando]="arrastrando">
                </div>
            </div>
            <div class="modal-footer" *ngIf="textoModal">
                <p class="modal-texto">{{ textoModal }}</p>
            </div>
        </div>
    </div>
</section>
